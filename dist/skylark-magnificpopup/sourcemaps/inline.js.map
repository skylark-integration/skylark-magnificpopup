{"version":3,"sources":["inline.js"],"names":["define","$","_hiddenClass","_inlinePlaceholder","_lastInlineElement","_putInlineElementsBack","after","addClass","detach","magnificPopup","registerModule","options","hiddenClass","markup","tNotFound","proto","initInline","mfp","types","push","_mfpOn","CLOSE_EVENT","getInline","item","template","src","inlineSt","st","inline","el","length","parent","parentNode","tagName","_getEl","removeClass","updateStatus","inlineElement","_parseMarkup"],"mappings":";;;;;;;AAAAA,QACC,iBACA,UACC,SAASC,GAEV,IACCC,EACAC,EACAC,EACAC,EAAyB,WACrBD,IACFD,EAAmBG,MAAOF,EAAmBG,SAASL,IAAgBM,SACtEJ,EAAqB,OAIxBH,EAAEQ,cAAcC,eAXA,UAYfC,SACCC,YAAa,OACbC,OAAQ,GACRC,UAAW,qBAEZC,OAECC,WAAY,WACXC,IAAIC,MAAMC,KApBG,UAsBbC,OAAOC,YAAY,UAAe,WACjChB,OAIFiB,UAAW,SAASC,EAAMC,GAIzB,GAFAnB,IAEGkB,EAAKE,IAAK,CACZ,IAAIC,EAAWT,IAAIU,GAAGC,OACrBC,EAAK5B,EAAEsB,EAAKE,KAEb,GAAGI,EAAGC,OAAQ,CAGb,IAAIC,EAASF,EAAG,GAAGG,WAChBD,GAAUA,EAAOE,UACf9B,IACHD,EAAewB,EAASd,YACxBT,EAAqB+B,OAAOhC,GAC5BA,EAAe,OAAOA,GAGvBE,EAAqByB,EAAGvB,MAAMH,GAAoBK,SAAS2B,YAAYjC,IAGxEe,IAAImB,aAAa,cAEjBnB,IAAImB,aAAa,QAASV,EAASZ,WACnCe,EAAK5B,EAAE,SAIR,OADAsB,EAAKc,cAAgBR,EACdA,EAKR,OAFAZ,IAAImB,aAAa,SACjBnB,IAAIqB,aAAad,KAAcD,GACxBC","file":"../inline.js","sourcesContent":["define([\n\t\"skylark-jquery\",\n\t\"./core\"\n],function($) {\n\n\tvar INLINE_NS = 'inline',\n\t\t_hiddenClass,\n\t\t_inlinePlaceholder,\n\t\t_lastInlineElement,\n\t\t_putInlineElementsBack = function() {\n\t\t\tif(_lastInlineElement) {\n\t\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t\t_lastInlineElement = null;\n\t\t\t}\n\t\t};\n\n\t$.magnificPopup.registerModule(INLINE_NS, {\n\t\toptions: {\n\t\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\t\tmarkup: '',\n\t\t\ttNotFound: 'Content not found'\n\t\t},\n\t\tproto: {\n\n\t\t\tinitInline: function() {\n\t\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t\t_putInlineElementsBack();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetInline: function(item, template) {\n\n\t\t\t\t_putInlineElementsBack();\n\n\t\t\t\tif(item.src) {\n\t\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\t\tel = $(item.src);\n\n\t\t\t\t\tif(el.length) {\n\n\t\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\t\tel = $('<div>');\n\t\t\t\t\t}\n\n\t\t\t\t\titem.inlineElement = el;\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\t\treturn template;\n\t\t\t}\n\t\t}\n\t});\n});"]}