/**
 * skylark-magnificpopup - A version of magnificpopup that ported to running on skylarkjs ui.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-magnificpopup/
 * @license MIT
 */
define(["skylark-jquery","./core"],function(t){var e;t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,e=mfp.st.zoom,o=".zoom";if(e.enabled&&mfp.supportsTransition){var i,n,m=e.duration,f=function(t){var o=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+e.duration/1e3+"s "+e.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},m="transition";return n["-webkit-"+m]=n["-moz-"+m]=n["-o-"+m]=n[m]=i,o.css(n),o},r=function(){mfp.content.css("visibility","visible")};_mfpOn("BuildControls"+o,function(){if(mfp._allowZoom()){if(clearTimeout(i),mfp.content.css("visibility","hidden"),!(t=mfp._getItemToZoom()))return void r();(n=f(t)).css(mfp._getOffset()),mfp.wrap.append(n),i=setTimeout(function(){n.css(mfp._getOffset(!0)),i=setTimeout(function(){r(),setTimeout(function(){n.remove(),t=n=null,_mfpTrigger("ZoomAnimationEnded")},16)},m)},16)}}),_mfpOn(BEFORE_CLOSE_EVENT+o,function(){if(mfp._allowZoom()){if(clearTimeout(i),mfp.st.removalDelay=m,!t){if(!(t=mfp._getItemToZoom()))return;n=f(t)}n.css(mfp._getOffset(!0)),mfp.wrap.append(n),mfp.content.css("visibility","hidden"),setTimeout(function(){n.css(mfp._getOffset())},16)}}),_mfpOn(CLOSE_EVENT+o,function(){mfp._allowZoom()&&(r(),n&&n.remove(),t=null)})}},_allowZoom:function(){return"image"===mfp.currItem.type},_getItemToZoom:function(){return!!mfp.currItem.hasSize&&mfp.currItem.img},_getOffset:function(o){var i,n=(i=o?mfp.currItem.img:mfp.st.zoom.opener(mfp.currItem.el||mfp.currItem)).offset(),m=parseInt(i.css("padding-top"),10),f=parseInt(i.css("padding-bottom"),10);n.top-=t(window).scrollTop()-m;var r={width:i.width(),height:(_isJQ?i.innerHeight():i[0].offsetHeight)-f-m};return void 0===e&&(e=void 0!==document.createElement("p").style.MozTransform),e?r["-moz-transform"]=r.transform="translate("+n.left+"px,"+n.top+"px)":(r.left=n.left,r.top=n.top),r}}})});
//# sourceMappingURL=sourcemaps/zoom.js.map
